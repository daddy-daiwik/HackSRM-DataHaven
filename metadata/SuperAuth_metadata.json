"{\"compiler\":{\"version\":\"0.8.26+commit.8a97fa7a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_government\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"credentialType\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"credentialHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"dataHavenId\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"authority\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"CredentialIssued\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"credentialType\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"reason\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"authority\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"CredentialRevoked\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"credentialType\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"newHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"newDataHavenId\",\"type\":\"string\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"previousHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"version\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"CredentialUpdated\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"authorities\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"credentials\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"get\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"credentialType\",\"type\":\"bytes32\"}],\"name\":\"getCredential\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"credentialHash\",\"type\":\"bytes32\"},{\"internalType\":\"string\",\"name\":\"dataHavenId\",\"type\":\"string\"},{\"internalType\":\"address\",\"name\":\"authority\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"revoked\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"version\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"credentialType\",\"type\":\"bytes32\"}],\"name\":\"getCredentialHash\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"credentialType\",\"type\":\"bytes32\"}],\"name\":\"getCredentialHistory\",\"outputs\":[{\"internalType\":\"bytes32[]\",\"name\":\"hashes\",\"type\":\"bytes32[]\"},{\"internalType\":\"string[]\",\"name\":\"ids\",\"type\":\"string[]\"},{\"internalType\":\"uint256[]\",\"name\":\"timestamps\",\"type\":\"uint256[]\"},{\"internalType\":\"address[]\",\"name\":\"auths\",\"type\":\"address[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"credentialType\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"versionIndex\",\"type\":\"uint256\"}],\"name\":\"getCredentialVersion\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"credentialHash\",\"type\":\"bytes32\"},{\"internalType\":\"string\",\"name\":\"dataHavenId\",\"type\":\"string\"},{\"internalType\":\"address\",\"name\":\"authority\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"credentialType\",\"type\":\"bytes32\"}],\"name\":\"getCredentialVersionCount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"credentialType\",\"type\":\"bytes32\"}],\"name\":\"getLatestCredential\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"credentialHash\",\"type\":\"bytes32\"},{\"internalType\":\"string\",\"name\":\"dataHavenId\",\"type\":\"string\"},{\"internalType\":\"address\",\"name\":\"authority\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"revoked\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"version\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"credentialType\",\"type\":\"bytes32\"}],\"name\":\"getRevocationInfo\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"revoked\",\"type\":\"bool\"},{\"internalType\":\"string\",\"name\":\"reason\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"authority\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"getUserCredentialTypes\",\"outputs\":[{\"internalType\":\"bytes32[]\",\"name\":\"\",\"type\":\"bytes32[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"credentialType\",\"type\":\"bytes32\"}],\"name\":\"isCredentialValid\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"credentialType\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"credentialHash\",\"type\":\"bytes32\"},{\"internalType\":\"uint8\",\"name\":\"v\",\"type\":\"uint8\"},{\"internalType\":\"bytes32\",\"name\":\"r\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"issueCredential\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"credentialType\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"credentialHash\",\"type\":\"bytes32\"},{\"internalType\":\"string\",\"name\":\"dataHavenId\",\"type\":\"string\"},{\"internalType\":\"uint8\",\"name\":\"v\",\"type\":\"uint8\"},{\"internalType\":\"bytes32\",\"name\":\"r\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"issueCredentialV2\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"credentialType\",\"type\":\"bytes32\"},{\"internalType\":\"string\",\"name\":\"reason\",\"type\":\"string\"}],\"name\":\"revokeCredential\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"credentialType\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"authority\",\"type\":\"address\"}],\"name\":\"setAuthority\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"credentialType\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"newCredentialHash\",\"type\":\"bytes32\"},{\"internalType\":\"string\",\"name\":\"newDataHavenId\",\"type\":\"string\"},{\"internalType\":\"uint8\",\"name\":\"v\",\"type\":\"uint8\"},{\"internalType\":\"bytes32\",\"name\":\"r\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"updateCredential\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"credentialType\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"hashToVerify\",\"type\":\"bytes32\"}],\"name\":\"verifyCredentialHash\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Maintains backward compatibility with the original SuperAuth contract Architecture:   - Government wallet sets authorities per credential type   - Authorities issue/update/revoke credentials via signature verification   - Each credential stores a DataHaven ID pointing to raw data   - Full version history is maintained on-chain   - Revoked credentials remain permanently stored with reason\",\"kind\":\"dev\",\"methods\":{\"getCredential(address,bytes32)\":{\"returns\":{\"authority\":\"       Authority address\",\"credentialHash\":\" Latest hash\",\"dataHavenId\":\"    Latest DataHaven ID\",\"revoked\":\"         Whether credential is revoked\",\"timestamp\":\"       Timestamp of latest version\",\"version\":\"         Current version number (1-indexed)\"}},\"getCredentialHistory(address,bytes32)\":{\"returns\":{\"auths\":\"     Array of all authority addresses per version\",\"hashes\":\"    Array of all credential hashes across versions\",\"ids\":\"       Array of all DataHaven IDs across versions\",\"timestamps\":\"Array of all version timestamps\"}},\"getCredentialVersion(address,bytes32,uint256)\":{\"params\":{\"versionIndex\":\"0-indexed version number\"}},\"issueCredential(address,bytes32,bytes32,uint8,bytes32,bytes32)\":{\"details\":\"Still writes to the legacy `credentials` mapping.      For full features (IPFS, history) use issueCredentialV2.\"},\"issueCredentialV2(address,bytes32,bytes32,string,uint8,bytes32,bytes32)\":{\"params\":{\"credentialHash\":\"keccak256 hash of the raw credential data\",\"credentialType\":\"keccak256 hash of the credential category (e.g. \\\"PERSONAL\\\")\",\"dataHavenId\":\"DataHaven ID where the raw data JSON is stored\",\"r\":\"Signature r component\",\"s\":\"Signature s component\",\"user\":\"Wallet address of the credential holder\",\"v\":\"Signature recovery id\"}},\"revokeCredential(address,bytes32,string)\":{\"details\":\"Credential data remains on-chain; the revoked flag prevents further updates.\"},\"updateCredential(address,bytes32,bytes32,string,uint8,bytes32,bytes32)\":{\"details\":\"Pushes a new version; previous versions remain in history.\"}},\"title\":\"SuperAuth - Decentralized Credential Management System\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"getCredential(address,bytes32)\":{\"notice\":\"Get the latest version of a credential\"},\"getCredentialHistory(address,bytes32)\":{\"notice\":\"Get the full history arrays for a credential\"},\"getCredentialVersion(address,bytes32,uint256)\":{\"notice\":\"Get a specific version of a credential\"},\"getCredentialVersionCount(address,bytes32)\":{\"notice\":\"Get the total number of versions for a credential\"},\"getLatestCredential(address,bytes32)\":{\"notice\":\"Alias for getCredential \\u2014 returns only the latest version data\"},\"getRevocationInfo(address,bytes32)\":{\"notice\":\"Get revocation details for a credential\"},\"getUserCredentialTypes(address)\":{\"notice\":\"Get all credential type hashes a user has been issued\"},\"isCredentialValid(address,bytes32)\":{\"notice\":\"Check whether a credential is currently valid (exists and not revoked)\"},\"issueCredential(address,bytes32,bytes32,uint8,bytes32,bytes32)\":{\"notice\":\"Original issueCredential \\u2014 kept for backward compatibility\"},\"issueCredentialV2(address,bytes32,bytes32,string,uint8,bytes32,bytes32)\":{\"notice\":\"Issue a new credential with DataHaven storage and full history tracking\"},\"revokeCredential(address,bytes32,string)\":{\"notice\":\"Revoke a credential permanently. Only the credential's authority can revoke.\"},\"updateCredential(address,bytes32,bytes32,string,uint8,bytes32,bytes32)\":{\"notice\":\"Update an existing credential with new data. Only the original authority can update.\"},\"verifyCredentialHash(address,bytes32,bytes32)\":{\"notice\":\"Verify whether a given hash matches the latest stored credential hash\"}},\"notice\":\"Issues, updates, revokes, and verifies credentials with full IPFS integration and history tracking\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/main.sol\":\"SuperAuth\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":1000},\"remappings\":[]},\"sources\":{\"contracts/main.sol\":{\"keccak256\":\"0x72ca148bbab10d5e11e8333bfaa4bb7b8718d1fc880eb9402513c61d1620d11c\",\"license\":\"GPL-3.0\",\"urls\":[\"bzz-raw://4a1c262f3427772986d277573fa972c7f6559a2eb57568cd18cecc43f4b7762f\",\"dweb:/ipfs/QmSV7yhuPFLGR5nBt5Sc26QSZRvzf5XwqkwwF7nMheMfWa\"]}},\"version\":1}"